{% extends 'bookings/base.html' %}
{% load static %}
{% block title %}Edit Booking{% endblock %}

{% block content %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edit Booking</title>
    {% load static %}
    <link rel="stylesheet" href="{% static 'bookings/styles.css' %}">
</head>
<body>
    <div class="background-image-edit-booking">
        <div class="container">
            <h1>Edit Booking</h1>
            
            {% if messages %}
            <div class="messages">
                {% for message in messages %}
                <div class="message {{ message.tags }}" id="message-modal">
                    {{ message }}
                    <span class="close-btn">&times;</span>
                </div>
                {% endfor %}
            </div>
            {% endif %}

            <form method="post" class="booking-form">
                {% csrf_token %}
                <label for="id_name">Name:</label>
                <input type="text" id="id_name" name="name" value="{{ booking.name }}" required>

                <label for="id_email">Email:</label>
                <input type="email" id="id_email" name="email" value="{{ booking.email }}" required>

                <label for="id_phone">Phone:</label>
                <input type="tel" id="id_phone" name="phone" value="{{ booking.phone }}" required>

                <label for="id_date">Date:</label>
                <input type="date" id="id_date" name="date" value="{{ booking.date|date:'Y-m-d' }}" required>

                <label for="id_time">Time:</label>
                <select id="id_time" name="time" required>
                    {% for t in times %}
                        <option value="{{ t }}" {% if t|time:"H:i" == booking.time|time:"H:i" %}selected{% endif %}>{{ t }}</option>
                    {% endfor %}
                </select>

                <label for="id_guests">Guests:</label>
                <input type="number" id="id_guests" name="guests" value="{{ booking.guests }}" min="1" required>

                <button type="submit" class="btn confirm">Save Changes</button>
            </form>

            <p class="text-center mt-4"><a href="{% url 'dashboard' %}">Back to My Bookings</a></p>
        </div>
    </div>
</body>
</html>
{% endblock %}